{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-d3c6714a85c3593f.js","src/js/config.js","src/js/helper.js","src/js/model.js","node_modules/@parcel/runtime-js/lib/runtime-786e1fe4b788c342.js","src/js/view/recipeView.js","src/js/view/searchView.js","src/js/view/pagination.js","src/js/controller.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"f9fpV\\\":\\\"index.8430df39.js\\\",\\\"eyyUD\\\":\\\"icons.c14567a0.svg\\\"}\"));","// export const API_URL = 'https://forkify-api.herokuapp.com/api/v2/recipes';\nexport const API_URL = 'https://forkify-api.herokuapp.com/api/v2/recipes';\nexport const SEARCH_URL = 'https://forkify-api.herokuapp.com/api/search?q=pizza';\nexport const TIMEOUT = 10;\nexport const RESULT_PAR_PAGE = 5;","import { TIMEOUT} from './config';\n\nconst timeout = function (s) {\n    return new Promise(function (_, reject) {\n      setTimeout(function () {\n        reject(new Error(`Request took too long! Timeout after ${s} second`));\n      }, s * 1000);\n    });\n};\n\nexport const getJson = async function(url) {\n    try {\n        const result = await Promise.race([fetch(url), timeout(TIMEOUT)]); \n        // console.log(result);\n        const data = await result.json();\n        return data;\n    } catch (error) {\n        console.log('error ', error);\n    }\n}","import { API_URL, RESULT_PAR_PAGE} from './config';\nimport { getJson} from './helper';\nexport const state = {\n    recipe: {},\n    search: {\n        query: '',\n        result: [],\n        resultPagePage: RESULT_PAR_PAGE,\n        defaultPage: 2\n    },\n}\n\nexport const loadRecipe = async function(id) {\n    try {\n        const data = await getJson(`${API_URL}/${id}`);\n        const {recipe} = data.data;\n        state.recipe = {\n            id: recipe.id,\n            title: recipe.title,\n            publisher: recipe.publisher,\n            sourceUrl: recipe.source_url,\n            imageUrl: recipe.image_url,\n            cookingTime: recipe.cooking_time,\n            servings: recipe.servings,\n            ingredients: recipe.ingredients\n        }\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const loadSearchResult =async function(query) {\n    try {\n        state.search.query = query;\n        const data = await getJson(`${API_URL}?search=${query}`);\n        // console.log(data)\n        state.search.result =  data.data.recipes.map(recipe => {\n            return {\n                id: recipe.id,\n                title: recipe.title,\n                publisher: recipe.publisher,\n                imageUrl: recipe.image_url\n            }\n        });\n        // console.log(state.search.result);\n    } catch (error) {\n        console.log(error);\n    }\n}  \n\n\nexport const getSearchResultPages = function(page = state.search.defaultPage) {\n    state.search.defaultPage = page;\n    let start = (page - 1) * state.search.resultPagePage;\n    let end = page * state.search.resultPagePage;\n    return state.search.result.slice(start, end);\n}\n\nexport const updateService = function(newServices) {\n    state.recipe.ingredients.forEach(ing => {\n        ing.quantity = ing.quantity * newServices / state.recipe.servings;\n        // console.log(ing, 'New ing', newServices, state.recipe.servics);\n    });\n    state.recipe.servings = newServices;\n}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"eyyUD\")).toString();","import icons from 'url:../../img/icons.svg';\n\nclass RecipeView {\n    #parentEl = document.querySelector('.recipe');\n    #data;\n\n    render(data) {\n        console.log(data);\n        this.#data = data;\n        const markUp = this.#generateMarkup();\n        this.#clear();\n        this.#parentEl.insertAdjacentHTML('afterbegin', markUp);\n    }\n\n    update(data) {\n        if (!data || (Array.isArray(data) && data.length !== 0)) {\n            return console.log('Error to update');\n        }\n\n        this.#data = data;\n        const newMarkup = this.#generateMarkup();\n        const newDom = document.createRange().createContextualFragment(newMarkup);\n        const newElement = Array.from(newDom.querySelectorAll('*'));\n        const currentElement = Array.from(this.#parentEl.querySelectorAll('*'));\n        newElement.forEach((ele, i) => {\n            const curEle = currentElement[i];\n            if (!ele.isEqualNode(curEle) && ele.firstChild.nodeValue.trim() !== '') {\n                curEle.textContent = ele.textContent;\n            }\n\n            if (!ele.isEqualNode(curEle)) {\n                Array.from(ele.attributes).forEach(attr => curEle.setAttribute(attr.name, attr.value));\n            }\n        })\n        console.log(newElement);\n\n\n    }\n\n    #clear() {\n        this.#parentEl.innerHTML = '';\n    }\n\n    showSpinner = function() {\n        const markUp = `<div class=\"spinner\">\n        <svg>\n          <use href=\"${icons}#icon-loader\"></use>\n        </svg>\n      </div>`;\n\n      this.#parentEl.insertAdjacentHTML('afterbegin', markUp);\n    }\n\n    addHandlerRender(handler) {\n        ['hashchange', 'load'].forEach(ev => window.addEventListener(ev, handler));\n    }\n\n    addUpdateServings(handler) {\n        this.#parentEl.addEventListener('click', function(e) {\n            const btn = e.target.closest('.btn--tiny');\n            if (!btn) return ;\n            let increase = +btn.dataset.increase;\n            if (increase > 0) handler(increase);\n        })\n    }\n\n    #generateMarkup() {\n        return `\n            <figure class=\"recipe__fig\">\n                <img src=\"${this.#data.imageUrl}\" alt=\"${this.#data.title}\" class=\"recipe__img\" />\n                <h1 class=\"recipe__title\">\n                <span>${this.#data.title}</span>\n                </h1>\n            </figure>\n\n            <div class=\"recipe__details\">\n                <div class=\"recipe__info\">\n                <svg class=\"recipe__info-icon\">\n                    <use href=\"${icons}#icon-clock\"></use>\n                </svg>\n                <span class=\"recipe__info-data recipe__info-data--minutes\">${this.#data.cookingTime}</span>\n                <span class=\"recipe__info-text\">minutes</span>\n                </div>\n                <div class=\"recipe__info\">\n                <svg class=\"recipe__info-icon\">\n                    <use href=\"${icons}#icon-users\"></use>\n                </svg>\n                <span class=\"recipe__info-data recipe__info-data--people\">${this.#data.servings}</span>\n                <span class=\"recipe__info-text\">servings</span>\n\n                <div class=\"recipe__info-buttons\">\n                    <button class=\"btn--tiny btn--increase-servings\" data-increase=\"${this.#data.servings - 1 }\">\n                    <svg>\n                        <use href=\"${icons}#icon-minus-circle\"></use>\n                    </svg>\n                    </button>\n                    <button class=\"btn--tiny btn--increase-servings\" data-increase=\"${this.#data.servings + 1 }\">\n                    <svg>\n                        <use href=\"${icons}#icon-plus-circle\"></use>\n                    </svg>\n                    </button>\n                </div>\n                </div>\n\n                <div class=\"recipe__user-generated\">\n                <svg>\n                    <use href=\"${icons}#icon-user\"></use>\n                </svg>\n                </div>\n                <button class=\"btn--round\">\n                <svg class=\"\">\n                    <use href=\"${icons}#icon-bookmark-fill\"></use>\n                </svg>\n                </button>\n            </div>\n\n            <div class=\"recipe__ingredients\">\n                <h2 class=\"heading--2\">Recipe ingredients</h2>\n                <ul class=\"recipe__ingredient-list\">\n                ${this.#data.ingredients.map(list => {\n                    return `<li class=\"recipe__ingredient\">\n                    <svg class=\"recipe__icon\">\n                    <use href=\"${icons}#icon-check\"></use>\n                    </svg>\n                    <div class=\"recipe__quantity\">${list.quantity ? list.quantity : '---'}</div>\n                    <div class=\"recipe__description\">\n                    <span class=\"recipe__unit\">${list.unit}</span>\n                    ${list.description}\n                    pasta\n                    </div>\n                </li>`\n                }).join('')}\n                </ul>\n            </div>\n\n            <div class=\"recipe__directions\">\n                <h2 class=\"heading--2\">How to cook it</h2>\n                <p class=\"recipe__directions-text\">\n                This recipe was carefully designed and tested by\n                <span class=\"recipe__publisher\">${this.#data.publisher}</span>. Please check out\n                directions at their website.\n                </p>\n                <a\n                class=\"btn--small recipe__btn\"\n                href=\"${this.#data.sourceUrl}\"\n                target=\"_blank\"\n                >\n                <span>Directions</span>\n                <svg class=\"search__icon\">\n                    <use href=\"${icons}#icon-arrow-right\"></use>\n                </svg>\n                </a>\n            </div>`;\n    }\n}\n\nexport default new RecipeView();","import icons from 'url:../../img/icons.svg';\nclass searchView {\n    #parentEl = document.querySelector('.search');\n    #searchDisplay = document.querySelector('.results');\n    _errorMessage = 'No result found with you query';\n\n    render(data) {\n        this.res = data;\n        console.log('Render ' ,data, 'this.res ' ,this.res);\n        const markUp = this.#generateMarkup();\n        this.#clearQuery();\n        this.#searchDisplay.insertAdjacentHTML('afterbegin', markUp);\n    }\n\n    getQuery() {\n        const query =  this.#parentEl.querySelector('.search__field').value;\n        this.#clearQuery();\n        return query;\n    }\n\n    #clearQuery() {\n        this.#parentEl.querySelector('.search__field').value = '';\n    }\n\n    addSearchHandler(handler) {\n        console.log(this.#parentEl);\n        this.#parentEl.addEventListener('submit', function(e){\n            e.preventDefault();\n            handler();\n        });\n        \n        ['click'].forEach(el => addEventListener(el, handler));\n    }\n\n    #generateMarkup() {\n        // return this.res.map(this._listGenerate).join();\n        const id = window.location.hash.slice(1);\n        console.log(id);\n        if (this.res.length) {\n            return this.res.map(list => {\n                return `<li class=\"preview\">\n                <a class=\"preview__link\" href=\"#${list.id}\">\n                  <figure class=\"preview__fig\">\n                    <img src=\"${list.imageUrl}\" alt=\"${list.title}\" />\n                  </figure>\n                  <div class=\"preview__data\">\n                    <h4 class=\"preview__title\">${list.title}</h4>\n                    <p class=\"preview__publisher\">${list.publisher}</p>\n                    <div class=\"preview__user-generated\">\n                      <svg>\n                        <use href=\"${icons}#icon-user\"></use>\n                      </svg>\n                    </div>\n                  </div>\n                </a>\n              </li>`\n            }).join(''); \n        } else {\n            return `<h2>${this._errorMessage}</h2>`\n        }\n           \n    }\n\n    // _listGenerate() {\n    //     return `<li class=\"preview\">\n    //     <a class=\"preview__link preview__link--active\" href=\"#23456\">\n    //       <figure class=\"preview__fig\">\n    //         <img src=\"src/img/test-1.jpg\" alt=\"Test\" />\n    //       </figure>\n    //       <div class=\"preview__data\">\n    //         <h4 class=\"preview__title\">Pasta with Tomato Cream ...</h4>\n    //         <p class=\"preview__publisher\">The Pioneer Woman</p>\n    //         <div class=\"preview__user-generated\">\n    //           <svg>\n    //             <use href=\"src/img/icons.svg#icon-user\"></use>\n    //           </svg>\n    //         </div>\n    //       </div>\n    //     </a>\n    //   </li>`\n    // }\n}\n\nexport default new searchView();","import icons from 'url:../../img/icons.svg';\nclass Pagination {\n    _parentElement = document.querySelector('.pagination');\n\n    render(data) {\n        this.res = data;\n        const markUp = this._generatorMarkup();\n        this._clear();\n        this._parentElement.insertAdjacentHTML('afterbegin', markUp);\n    }\n\n    _clear() {\n        this._parentElement.innerHTML = '';\n    }\n\n    addNextPrevClick(handler) {\n        this._parentElement.addEventListener('click', function(e) {\n            const ctaClicked = e.target.closest('.btn--inline');\n            console.log(ctaClicked);\n            const goToPage = +ctaClicked.dataset.goto;\n            console.log(goToPage);\n            handler(goToPage);\n        })\n    }\n\n    _generatorMarkup() {\n        const currentPage = this.res.defaultPage;\n        const numpages = Math.ceil(this.res.result.length / this.res.resultPagePage);\n        console.log(this.res.defaultPage, ' -- ', numpages, ' @@@ ', this.res.result, '####', this.res.resultPagePage);\n\n        if (currentPage === 1 && numpages > 1) {\n            return `\n          <button class=\"btn--inline pagination__btn--next\" data-goto=\"${currentPage + 1 }\">\n            <span>Page ${currentPage + 1 }</span>\n            <svg class=\"search__icon\">\n              <use href=\"${icons}#icon-arrow-right\"></use>\n            </svg>\n          </button>`;\n        }\n\n        if (currentPage === numpages && numpages > 1) {\n            return `<button class=\"btn--inline pagination__btn--prev\" data-goto=\"${currentPage - 1 }\">\n            <svg class=\"search__icon\">\n              <use href=\"${icons}#icon-arrow-left\"></use>\n            </svg>\n            <span>Page ${currentPage - 1 }</span>\n          </button>`;\n        }\n\n        if (currentPage < numpages) {\n            return  `<button class=\"btn--inline pagination__btn--prev\" data-goto=\"${currentPage - 1 }\">\n            <svg class=\"search__icon\">\n              <use href=\"${icons}#icon-arrow-left\"></use>\n            </svg>\n            <span>Page ${currentPage - 1 }</span>\n          </button>\n          <button class=\"btn--inline pagination__btn--next\" data-goto=\"${currentPage + 1 }\">\n            <span>Page ${currentPage + 1 }</span>\n            <svg class=\"search__icon\">\n              <use href=\"${icons}#icon-arrow-right\"></use>\n            </svg>\n          </button>`;\n        }\n\n        return ` `;\n    }\n\n}\n\nexport default new Pagination();","import * as modal from './model.js';\nimport recipeView from './view/recipeView.js';\nimport searchView from './view/searchView.js';\nimport Pagination from './view/pagination.js';\nimport pagination from './view/pagination.js';\n\nconst controlRecipes = async function(){\n  let id = window.location.hash.slice(1);\n  \n  try {\n    recipeView.showSpinner();\n    \n    \n    // controlServices();\n    await modal.loadRecipe(id);\n    // searchView.render(modal.state.search);\n    recipeView.render(modal.state.recipe);\n  } catch (error) {\n    console.log('Error ', error);\n  }\n}\n\nconst controlSearchResult = async function() {\n  // console.log('hello new', searchView.getQuery());\n  try {\n    const getQueryStr = searchView.getQuery();\n    if (!getQueryStr) return;\n    await modal.loadSearchResult(getQueryStr);\n    // searchView.render(modal.state.search.result);\n    searchView.render(modal.getSearchResultPages(modal.state.search.defaultPage));\n    Pagination.render(modal.state.search);\n    \n    // console.log(modal.state.search.result);\n  } catch (error) {\n    console.log('Error ', error);\n  }\n}\n\nconst controlPagination = function(goToPage) {\n  searchView.render(modal.getSearchResultPages(goToPage));\n  Pagination.render(modal.state.search);\n  console.log('page contoal');\n}\n\nconst controlServices = function(newServing) {\n  modal.updateService(newServing);\n  // recipeView.render(modal.state.recipe);\n  recipeView.update(modal.state.recipe);\n}\n\nconst init = function() {\n  recipeView.addHandlerRender(controlRecipes);\n  recipeView.addUpdateServings(controlServices);\n  searchView.addSearchHandler(controlSearchResult);\n  pagination.addNextPrevClick(controlPagination);\n};\n\ninit();\n// ['hashchange', 'load'].forEach(ev => window.addEventListener(ev, controlRecipes));\n\n// window.addEventListener('load', controlRecipes);"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$ba30e20475feac5a$export$923ea8233b386e99","$d3824bf2ef2465db$export$a75c676177490cac","async","url","result","Promise","race","fetch","s","_","reject","setTimeout","json","error","console","log","$0f1d4402dffacf5b$export$ca000e230c0caa3e","recipe","search","query","resultPagePage","defaultPage","$0f1d4402dffacf5b$export$28efc709f34d183e","page","start","end","slice","$d981731ada74638f$exports","URL","resolve","toString","$5dccb45da00d85a7$export$2e2bcd8739ae039","parentEl","document","querySelector","data","render","this","markUp","generateMarkup","clear","insertAdjacentHTML","update","Array","isArray","newMarkup","newDom","createRange","createContextualFragment","newElement","from","querySelectorAll","currentElement","forEach","ele","curEle","isEqualNode","firstChild","nodeValue","trim","textContent","attributes","attr","setAttribute","name","value","innerHTML","showSpinner","$parcel$interopDefault","addHandlerRender","handler","ev","window","addEventListener","addUpdateServings","e","btn","target","closest","increase","dataset","imageUrl","title","cookingTime","servings","ingredients","map","list","quantity","unit","description","join","publisher","sourceUrl","$517cf2ae0791ab9c$export$2e2bcd8739ae039","searchDisplay","_errorMessage","res","clearQuery","getQuery","addSearchHandler","preventDefault","el","location","hash","$9e5df9d130119400$export$2e2bcd8739ae039","_parentElement","_generatorMarkup","_clear","addNextPrevClick","ctaClicked","goToPage","goto","currentPage","numpages","Math","ceil","$f50bd1f2915ed0f2$var$controlRecipes","source_url","image_url","cooking_time","$0f1d4402dffacf5b$export$b96725c7a035d60b","$f50bd1f2915ed0f2$var$controlSearchResult","getQueryStr","recipes","$0f1d4402dffacf5b$export$be2b23a594353a40","$f50bd1f2915ed0f2$var$controlPagination","$f50bd1f2915ed0f2$var$controlServices","newServing","newServices","ing"],"version":3,"file":"index.8430df39.js.map"}